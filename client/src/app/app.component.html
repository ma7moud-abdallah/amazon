<nav class="navbar navbar-expand-lg navbar-dark bg-main">
  <div class="container-fluid">
  <a class="navbar-brand"  routerLink="/">
    <img  src="../assets/logo.png" alt="logo" id="logo">Amazon
  </a>
  <button class="navbar-toggler" (click)="isCollapsed=!isCollapsed">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div [ngbCollapse]="isCollapsed" class="collapse navbar-collapse flex-column" style="align-items:left;margin-left:40px;" id="navbarNav">
    <div class="input-group w-75">
      <input type="text" name="search" [(ngModel)]="searchTerm" (keyup.enter)="search()" class="form-control">
      <span class="bg-warning" (click)=search() id="searchbtn">
        <i class="fa fa-search"></i>
      </span>
    </div>
    <div class="w-100">
      <div class="navbar nav">
        <li class="nav-item">
          <a (click)="collapse()" routerLink="/categories" routerLinkActive="active">Categories</a>
        </li>
        <li ngbDropdown class="nav-item ml-md-auto" #dropdown="ngbDropdown">
          <a class="nav-link dropdown-toggle" ngbDropdownToggle>
            <i class="fa fa-user"></i>
            <span *ngIf="!getToken()">Account</span>
            <span *ngIf="getToken() && user.user">{{user.user.name}}</span>
          </a>
          <div ngbDropdownMenu class="dropdown-menu">
            <a *ngIf="getToken()" (click)="closeDropdown(dropdown);collapse()" routerLink="/profile" class="dropdown-item">
             <i class="fa fa-user-circle"></i>Profile
            </a>
            <a *ngIf="getToken()" (click)="closeDropdown(dropdown);collapse();logout()" class="dropdown-item" >
             <i class="fa fa-key"></i>Logout
            </a>
            <a *ngIf="!getToken()" (click)="closeDropdown(dropdown);collapse()" routerLink="/login" class="dropdown-item">
             <i class="fa fa-key"></i>Login
            </a>
            <a *ngIf="!getToken()" (click)="closeDropdown(dropdown);collapse()" routerLink="/register" class="dropdown-item">
             <i class="fa fa-group"></i> Register
            </a>
          </div>
        </li>
        <li class="nav-item">
          <a routerLink="/cart" routerLinkActive="active" (click)="collapse()" class="nav-link">
          <i class="fa fa-shopping-cart"></i>
          </a>
        </li>
      </div>
</div>
  </div>
</div>
</nav>



<router-outlet></router-outlet>
<footer class="bg-main text-white mt-3 p-3">
<div class="container">
  <p class="lead text-center">Copyright &copy; 2018 Coded by Mahmoud Abdallah</p>
</div>
</footer>
